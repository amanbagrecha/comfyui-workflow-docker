{
  "last_node_id": 26,
  "last_link_id": 33,
  "nodes": [
    {
      "id": 1,
      "type": "LoadSAM3Model",
      "pos": [
        0,
        0
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "model_path",
          "type": "STRING",
          "link": null,
          "slot_index": 0,
          "widget": {
            "name": "model_path"
          }
        }
      ],
      "outputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "links": [
            5,
            7,
            13,
            15
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoadSAM3Model"
      },
      "widgets_values": [
        "models/sam3/sam3.pt"
      ],
      "title": "Load SAM3 Model"
    },
    {
      "id": 2,
      "type": "LoadImage",
      "pos": [
        420,
        0
      ],
      "size": [
        360,
        80
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "COMBO",
          "link": null,
          "slot_index": 0,
          "widget": {
            "name": "image"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1
          ],
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example_image.jpg"
      ],
      "title": "Load Panorama"
    },
    {
      "id": 3,
      "type": "ImageResize+",
      "pos": [
        840,
        0
      ],
      "size": [
        360,
        180
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1,
          "slot_index": 0
        },
        {
          "name": "width",
          "type": "INT",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "width"
          }
        },
        {
          "name": "height",
          "type": "INT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "height"
          }
        },
        {
          "name": "interpolation",
          "type": "COMBO",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "interpolation"
          }
        },
        {
          "name": "method",
          "type": "COMBO",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "method"
          }
        },
        {
          "name": "condition",
          "type": "COMBO",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "condition"
          }
        },
        {
          "name": "multiple_of",
          "type": "INT",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "multiple_of"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            2
          ],
          "slot_index": 0
        },
        {
          "name": "width",
          "type": "INT",
          "links": null,
          "slot_index": 1
        },
        {
          "name": "height",
          "type": "INT",
          "links": null,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResize+"
      },
      "widgets_values": [
        4000,
        2000,
        "area",
        "keep proportion",
        "downscale if bigger",
        2
      ],
      "title": "Resize For SAM3"
    },
    {
      "id": 4,
      "type": "ImageTile+",
      "pos": [
        1260,
        0
      ],
      "size": [
        360,
        160
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2,
          "slot_index": 0
        },
        {
          "name": "rows",
          "type": "INT",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "rows"
          }
        },
        {
          "name": "cols",
          "type": "INT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "cols"
          }
        },
        {
          "name": "overlap",
          "type": "FLOAT",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "overlap"
          }
        },
        {
          "name": "overlap_x",
          "type": "INT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "overlap_x"
          }
        },
        {
          "name": "overlap_y",
          "type": "INT",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "overlap_y"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            3,
            4,
            30
          ],
          "slot_index": 0
        },
        {
          "name": "tile_width",
          "type": "INT",
          "links": null,
          "slot_index": 1
        },
        {
          "name": "tile_height",
          "type": "INT",
          "links": null,
          "slot_index": 2
        },
        {
          "name": "overlap_x",
          "type": "INT",
          "links": [
            26
          ],
          "slot_index": 3
        },
        {
          "name": "overlap_y",
          "type": "INT",
          "links": [
            27
          ],
          "slot_index": 4
        }
      ],
      "properties": {
        "Node name for S&R": "ImageTile+"
      },
      "widgets_values": [
        1,
        2,
        0,
        0,
        0
      ],
      "title": "Tile Panorama (1x2)"
    },
    {
      "id": 5,
      "type": "ImageFromBatch+",
      "pos": [
        1680,
        0
      ],
      "size": [
        360,
        100
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 3,
          "slot_index": 0
        },
        {
          "name": "start",
          "type": "INT",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "start"
          }
        },
        {
          "name": "length",
          "type": "INT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "length"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            6,
            8
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch+"
      },
      "widgets_values": [
        0,
        1
      ],
      "title": "Tile Left"
    },
    {
      "id": 6,
      "type": "ImageFromBatch+",
      "pos": [
        0,
        260
      ],
      "size": [
        360,
        100
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 4,
          "slot_index": 0
        },
        {
          "name": "start",
          "type": "INT",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "start"
          }
        },
        {
          "name": "length",
          "type": "INT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "length"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            14,
            16
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch+"
      },
      "widgets_values": [
        1,
        1
      ],
      "title": "Tile Right"
    },
    {
      "id": 7,
      "type": "SAM3Grounding",
      "pos": [
        420,
        260
      ],
      "size": [
        360,
        200
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "link": 5,
          "slot_index": 0,
          "widget": {
            "name": "sam3_model"
          }
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 6,
          "slot_index": 1,
          "widget": {
            "name": "image"
          }
        },
        {
          "name": "confidence_threshold",
          "type": "FLOAT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "confidence_threshold"
          }
        },
        {
          "name": "text_prompt",
          "type": "STRING",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "text_prompt"
          }
        },
        {
          "name": "positive_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "positive_boxes"
          }
        },
        {
          "name": "negative_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "negative_boxes"
          }
        },
        {
          "name": "max_detections",
          "type": "INT",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "max_detections"
          }
        },
        {
          "name": "offload_model",
          "type": "BOOLEAN",
          "link": null,
          "slot_index": 7,
          "widget": {
            "name": "offload_model"
          }
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "MASK",
          "links": [
            9
          ],
          "slot_index": 0
        },
        {
          "name": "visualization",
          "type": "IMAGE",
          "links": null,
          "slot_index": 1
        },
        {
          "name": "boxes",
          "type": "STRING",
          "links": null,
          "slot_index": 2
        },
        {
          "name": "scores",
          "type": "STRING",
          "links": null,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3Grounding"
      },
      "widgets_values": [
        null,
        null,
        0.5,
        "sky",
        null,
        null,
        -1,
        false
      ],
      "title": "SAM3 Sky (Left)"
    },
    {
      "id": 8,
      "type": "SAM3Grounding",
      "pos": [
        840,
        260
      ],
      "size": [
        360,
        200
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "link": 7,
          "slot_index": 0,
          "widget": {
            "name": "sam3_model"
          }
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 8,
          "slot_index": 1,
          "widget": {
            "name": "image"
          }
        },
        {
          "name": "confidence_threshold",
          "type": "FLOAT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "confidence_threshold"
          }
        },
        {
          "name": "text_prompt",
          "type": "STRING",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "text_prompt"
          }
        },
        {
          "name": "positive_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "positive_boxes"
          }
        },
        {
          "name": "negative_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "negative_boxes"
          }
        },
        {
          "name": "max_detections",
          "type": "INT",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "max_detections"
          }
        },
        {
          "name": "offload_model",
          "type": "BOOLEAN",
          "link": null,
          "slot_index": 7,
          "widget": {
            "name": "offload_model"
          }
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "MASK",
          "links": [
            10
          ],
          "slot_index": 0
        },
        {
          "name": "visualization",
          "type": "IMAGE",
          "links": null,
          "slot_index": 1
        },
        {
          "name": "boxes",
          "type": "STRING",
          "links": null,
          "slot_index": 2
        },
        {
          "name": "scores",
          "type": "STRING",
          "links": null,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3Grounding"
      },
      "widgets_values": [
        null,
        null,
        0.4,
        "sun glare",
        null,
        null,
        -1,
        false
      ],
      "title": "SAM3 Glare (Left)"
    },
    {
      "id": 9,
      "type": "Masks Combine Batch",
      "pos": [
        1260,
        260
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 9,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            11
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Masks Combine Batch"
      },
      "widgets_values": [],
      "title": "Combine Sky Detections (Left)"
    },
    {
      "id": 10,
      "type": "Masks Combine Batch",
      "pos": [
        1680,
        260
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 10,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            12
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Masks Combine Batch"
      },
      "widgets_values": [],
      "title": "Combine Glare Detections (Left)"
    },
    {
      "id": 11,
      "type": "Masks Combine Regions",
      "pos": [
        0,
        520
      ],
      "size": [
        360,
        160
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "mask_a",
          "type": "MASK",
          "link": 11,
          "slot_index": 0
        },
        {
          "name": "mask_b",
          "type": "MASK",
          "link": 12,
          "slot_index": 1
        },
        {
          "name": "mask_c",
          "type": "MASK",
          "link": null,
          "slot_index": 2
        },
        {
          "name": "mask_d",
          "type": "MASK",
          "link": null,
          "slot_index": 3
        },
        {
          "name": "mask_e",
          "type": "MASK",
          "link": null,
          "slot_index": 4
        },
        {
          "name": "mask_f",
          "type": "MASK",
          "link": null,
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            21
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Masks Combine Regions"
      },
      "widgets_values": [],
      "title": "Sky+Glare Mask (Left)"
    },
    {
      "id": 12,
      "type": "SAM3Grounding",
      "pos": [
        420,
        520
      ],
      "size": [
        360,
        200
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "link": 13,
          "slot_index": 0,
          "widget": {
            "name": "sam3_model"
          }
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 14,
          "slot_index": 1,
          "widget": {
            "name": "image"
          }
        },
        {
          "name": "confidence_threshold",
          "type": "FLOAT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "confidence_threshold"
          }
        },
        {
          "name": "text_prompt",
          "type": "STRING",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "text_prompt"
          }
        },
        {
          "name": "positive_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "positive_boxes"
          }
        },
        {
          "name": "negative_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "negative_boxes"
          }
        },
        {
          "name": "max_detections",
          "type": "INT",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "max_detections"
          }
        },
        {
          "name": "offload_model",
          "type": "BOOLEAN",
          "link": null,
          "slot_index": 7,
          "widget": {
            "name": "offload_model"
          }
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "MASK",
          "links": [
            17
          ],
          "slot_index": 0
        },
        {
          "name": "visualization",
          "type": "IMAGE",
          "links": null,
          "slot_index": 1
        },
        {
          "name": "boxes",
          "type": "STRING",
          "links": null,
          "slot_index": 2
        },
        {
          "name": "scores",
          "type": "STRING",
          "links": null,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3Grounding"
      },
      "widgets_values": [
        null,
        null,
        0.5,
        "sky",
        null,
        null,
        -1,
        false
      ],
      "title": "SAM3 Sky (Right)"
    },
    {
      "id": 13,
      "type": "SAM3Grounding",
      "pos": [
        840,
        520
      ],
      "size": [
        360,
        200
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "link": 15,
          "slot_index": 0,
          "widget": {
            "name": "sam3_model"
          }
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 16,
          "slot_index": 1,
          "widget": {
            "name": "image"
          }
        },
        {
          "name": "confidence_threshold",
          "type": "FLOAT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "confidence_threshold"
          }
        },
        {
          "name": "text_prompt",
          "type": "STRING",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "text_prompt"
          }
        },
        {
          "name": "positive_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "positive_boxes"
          }
        },
        {
          "name": "negative_boxes",
          "type": "SAM3_BOXES_PROMPT",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "negative_boxes"
          }
        },
        {
          "name": "max_detections",
          "type": "INT",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "max_detections"
          }
        },
        {
          "name": "offload_model",
          "type": "BOOLEAN",
          "link": null,
          "slot_index": 7,
          "widget": {
            "name": "offload_model"
          }
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "MASK",
          "links": [
            18
          ],
          "slot_index": 0
        },
        {
          "name": "visualization",
          "type": "IMAGE",
          "links": null,
          "slot_index": 1
        },
        {
          "name": "boxes",
          "type": "STRING",
          "links": null,
          "slot_index": 2
        },
        {
          "name": "scores",
          "type": "STRING",
          "links": null,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3Grounding"
      },
      "widgets_values": [
        null,
        null,
        0.4,
        "sun glare",
        null,
        null,
        -1,
        false
      ],
      "title": "SAM3 Glare (Right)"
    },
    {
      "id": 14,
      "type": "Masks Combine Batch",
      "pos": [
        1260,
        520
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 17,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            19
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Masks Combine Batch"
      },
      "widgets_values": [],
      "title": "Combine Sky Detections (Right)"
    },
    {
      "id": 15,
      "type": "Masks Combine Batch",
      "pos": [
        1680,
        520
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 18,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            20
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Masks Combine Batch"
      },
      "widgets_values": [],
      "title": "Combine Glare Detections (Right)"
    },
    {
      "id": 16,
      "type": "Masks Combine Regions",
      "pos": [
        0,
        780
      ],
      "size": [
        360,
        160
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "mask_a",
          "type": "MASK",
          "link": 19,
          "slot_index": 0
        },
        {
          "name": "mask_b",
          "type": "MASK",
          "link": 20,
          "slot_index": 1
        },
        {
          "name": "mask_c",
          "type": "MASK",
          "link": null,
          "slot_index": 2
        },
        {
          "name": "mask_d",
          "type": "MASK",
          "link": null,
          "slot_index": 3
        },
        {
          "name": "mask_e",
          "type": "MASK",
          "link": null,
          "slot_index": 4
        },
        {
          "name": "mask_f",
          "type": "MASK",
          "link": null,
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            22
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Masks Combine Regions"
      },
      "widgets_values": [],
      "title": "Sky+Glare Mask (Right)"
    },
    {
      "id": 17,
      "type": "MaskToImage",
      "pos": [
        420,
        780
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 21,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            23
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      },
      "widgets_values": [],
      "title": "Mask To Image (Left)"
    },
    {
      "id": 18,
      "type": "MaskToImage",
      "pos": [
        840,
        780
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 22,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            24
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      },
      "widgets_values": [],
      "title": "Mask To Image (Right)"
    },
    {
      "id": 19,
      "type": "ImageBatch",
      "pos": [
        1260,
        780
      ],
      "size": [
        360,
        80
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 23,
          "slot_index": 0
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 24,
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            25
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBatch"
      },
      "widgets_values": [],
      "title": "Batch Tile Masks"
    },
    {
      "id": 20,
      "type": "ImageUntile+",
      "pos": [
        1680,
        780
      ],
      "size": [
        360,
        140
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "tiles",
          "type": "IMAGE",
          "link": 25,
          "slot_index": 0
        },
        {
          "name": "overlap_x",
          "type": "INT",
          "link": 26,
          "slot_index": 1,
          "widget": {
            "name": "overlap_x"
          }
        },
        {
          "name": "overlap_y",
          "type": "INT",
          "link": 27,
          "slot_index": 2,
          "widget": {
            "name": "overlap_y"
          }
        },
        {
          "name": "rows",
          "type": "INT",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "rows"
          }
        },
        {
          "name": "cols",
          "type": "INT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "cols"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            28
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUntile+"
      },
      "widgets_values": [
        0,
        0,
        1,
        2
      ],
      "title": "Rejoin Tile Masks"
    },
    {
      "id": 21,
      "type": "ImageToMask",
      "pos": [
        0,
        1040
      ],
      "size": [
        360,
        80
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 28,
          "slot_index": 0
        },
        {
          "name": "channel",
          "type": "COMBO",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "channel"
          }
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            29
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "red"
      ],
      "title": "Back To Mask"
    },
    {
      "id": 22,
      "type": "MaskToImage",
      "pos": [
        420,
        1040
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 29,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            32,
            33
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      },
      "widgets_values": [],
      "title": "Final SAM3 Mask Image"
    },
    {
      "id": 23,
      "type": "Create Grid Image from Batch",
      "pos": [
        840,
        1040
      ],
      "size": [
        360,
        180
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 30,
          "slot_index": 0
        },
        {
          "name": "border_width",
          "type": "INT",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "border_width"
          }
        },
        {
          "name": "number_of_columns",
          "type": "INT",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "number_of_columns"
          }
        },
        {
          "name": "max_cell_size",
          "type": "INT",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "max_cell_size"
          }
        },
        {
          "name": "border_red",
          "type": "INT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "border_red"
          }
        },
        {
          "name": "border_green",
          "type": "INT",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "border_green"
          }
        },
        {
          "name": "border_blue",
          "type": "INT",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "border_blue"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            31
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Create Grid Image from Batch"
      },
      "widgets_values": [
        2,
        2,
        1024,
        255,
        255,
        255
      ],
      "title": "Tile Preview Grid"
    },
    {
      "id": 24,
      "type": "PreviewImage",
      "pos": [
        1260,
        1040
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 31,
          "slot_index": 0
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": [],
      "title": "Preview Tiles"
    },
    {
      "id": 25,
      "type": "PreviewImage",
      "pos": [
        1680,
        1040
      ],
      "size": [
        360,
        70
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 32,
          "slot_index": 0
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": [],
      "title": "Preview Final SAM3 Mask"
    },
    {
      "id": 26,
      "type": "Image Save",
      "pos": [
        0,
        1300
      ],
      "size": [
        360,
        360
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 33,
          "slot_index": 0
        },
        {
          "name": "output_path",
          "type": "STRING",
          "link": null,
          "slot_index": 1,
          "widget": {
            "name": "output_path"
          }
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "link": null,
          "slot_index": 2,
          "widget": {
            "name": "filename_prefix"
          }
        },
        {
          "name": "filename_delimiter",
          "type": "STRING",
          "link": null,
          "slot_index": 3,
          "widget": {
            "name": "filename_delimiter"
          }
        },
        {
          "name": "filename_number_padding",
          "type": "INT",
          "link": null,
          "slot_index": 4,
          "widget": {
            "name": "filename_number_padding"
          }
        },
        {
          "name": "filename_number_start",
          "type": "COMBO",
          "link": null,
          "slot_index": 5,
          "widget": {
            "name": "filename_number_start"
          }
        },
        {
          "name": "extension",
          "type": "COMBO",
          "link": null,
          "slot_index": 6,
          "widget": {
            "name": "extension"
          }
        },
        {
          "name": "dpi",
          "type": "INT",
          "link": null,
          "slot_index": 7,
          "widget": {
            "name": "dpi"
          }
        },
        {
          "name": "quality",
          "type": "INT",
          "link": null,
          "slot_index": 8,
          "widget": {
            "name": "quality"
          }
        },
        {
          "name": "optimize_image",
          "type": "COMBO",
          "link": null,
          "slot_index": 9,
          "widget": {
            "name": "optimize_image"
          }
        },
        {
          "name": "lossless_webp",
          "type": "COMBO",
          "link": null,
          "slot_index": 10,
          "widget": {
            "name": "lossless_webp"
          }
        },
        {
          "name": "overwrite_mode",
          "type": "COMBO",
          "link": null,
          "slot_index": 11,
          "widget": {
            "name": "overwrite_mode"
          }
        },
        {
          "name": "show_history",
          "type": "COMBO",
          "link": null,
          "slot_index": 12,
          "widget": {
            "name": "show_history"
          }
        },
        {
          "name": "show_history_by_prefix",
          "type": "COMBO",
          "link": null,
          "slot_index": 13,
          "widget": {
            "name": "show_history_by_prefix"
          }
        },
        {
          "name": "embed_workflow",
          "type": "COMBO",
          "link": null,
          "slot_index": 14,
          "widget": {
            "name": "embed_workflow"
          }
        },
        {
          "name": "show_previews",
          "type": "COMBO",
          "link": null,
          "slot_index": 15,
          "widget": {
            "name": "show_previews"
          }
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": null,
          "slot_index": 0
        },
        {
          "name": "files",
          "type": "STRING",
          "links": null,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "Image Save"
      },
      "widgets_values": [
        "sam3-tiled",
        "sam3_mask",
        "_",
        4,
        "false",
        "png",
        300,
        100,
        "true",
        "false",
        "prefix_as_filename",
        "false",
        "false",
        "true",
        "false"
      ],
      "title": "Save Final SAM3 Mask"
    }
  ],
  "links": [
    [
      1,
      2,
      0,
      3,
      0,
      "IMAGE"
    ],
    [
      2,
      3,
      0,
      4,
      0,
      "IMAGE"
    ],
    [
      3,
      4,
      0,
      5,
      0,
      "IMAGE"
    ],
    [
      4,
      4,
      0,
      6,
      0,
      "IMAGE"
    ],
    [
      5,
      1,
      0,
      7,
      0,
      "SAM3_MODEL"
    ],
    [
      6,
      5,
      0,
      7,
      1,
      "IMAGE"
    ],
    [
      7,
      1,
      0,
      8,
      0,
      "SAM3_MODEL"
    ],
    [
      8,
      5,
      0,
      8,
      1,
      "IMAGE"
    ],
    [
      9,
      7,
      0,
      9,
      0,
      "MASK"
    ],
    [
      10,
      8,
      0,
      10,
      0,
      "MASK"
    ],
    [
      11,
      9,
      0,
      11,
      0,
      "MASK"
    ],
    [
      12,
      10,
      0,
      11,
      1,
      "MASK"
    ],
    [
      13,
      1,
      0,
      12,
      0,
      "SAM3_MODEL"
    ],
    [
      14,
      6,
      0,
      12,
      1,
      "IMAGE"
    ],
    [
      15,
      1,
      0,
      13,
      0,
      "SAM3_MODEL"
    ],
    [
      16,
      6,
      0,
      13,
      1,
      "IMAGE"
    ],
    [
      17,
      12,
      0,
      14,
      0,
      "MASK"
    ],
    [
      18,
      13,
      0,
      15,
      0,
      "MASK"
    ],
    [
      19,
      14,
      0,
      16,
      0,
      "MASK"
    ],
    [
      20,
      15,
      0,
      16,
      1,
      "MASK"
    ],
    [
      21,
      11,
      0,
      17,
      0,
      "MASK"
    ],
    [
      22,
      16,
      0,
      18,
      0,
      "MASK"
    ],
    [
      23,
      17,
      0,
      19,
      0,
      "IMAGE"
    ],
    [
      24,
      18,
      0,
      19,
      1,
      "IMAGE"
    ],
    [
      25,
      19,
      0,
      20,
      0,
      "IMAGE"
    ],
    [
      26,
      4,
      3,
      20,
      1,
      "INT"
    ],
    [
      27,
      4,
      4,
      20,
      2,
      "INT"
    ],
    [
      28,
      20,
      0,
      21,
      0,
      "IMAGE"
    ],
    [
      29,
      21,
      0,
      22,
      0,
      "MASK"
    ],
    [
      30,
      4,
      0,
      23,
      0,
      "IMAGE"
    ],
    [
      31,
      23,
      0,
      24,
      0,
      "IMAGE"
    ],
    [
      32,
      22,
      0,
      25,
      0,
      "IMAGE"
    ],
    [
      33,
      22,
      0,
      26,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1,
      "offset": [
        0,
        0
      ]
    },
    "workflowRendererVersion": "LG"
  },
  "version": 0.4
}